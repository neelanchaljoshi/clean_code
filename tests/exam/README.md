This was a very fun exercise. 

I tried my best to Keep the Logic as simple as possible (KISS) while still preserving functionality.

As suggested, I tried to segregate the database read logic from the game logic (SRP). The functionality of the Database class is to a minimum by design. I don't know if its a *GOOD* design, but I would like to hear your thoughts.

I tried my best to follow IOSP but it reaalllllyyy difficult to do properly. I am sure this comes with practice, and later I would try to see how better I can improve this code. I would like to refactor the play_game method to allow to properly follow IOSP but this was the best I could manage with 3 working brain cells. 

The test cases work fine. It took me a while to get a hang of how to use a mocker for this but I'm happy that I know how to use this tool now. 